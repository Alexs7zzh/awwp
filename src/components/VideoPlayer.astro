---
import type { ImageMetadata } from "astro";

interface VideoSources {
  mp4: string;
  webm?: string;
}

interface Props {
  sources: VideoSources;
  thumbnail: ImageMetadata;
  alt: string;
}

const { sources, thumbnail, alt } = Astro.props;
---

<video
  autoplay
  muted
  loop
  playsinline
  poster={thumbnail.src}
  preload="metadata"
  width="100%"
  height="auto"
  class="artwork-video"
  aria-label={alt}
>
  {sources.webm && <source src={sources.webm} type="video/webm" />}
  {sources.mp4 && <source src={sources.mp4} type="video/mp4" />}
  Your browser does not support the video tag.
</video>

<style>
  .artwork-video {
    display: block;
    width: 100%;
    height: 100%;
  }
</style>

